<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ClarifyJS - Demos</title>

  <link rel="stylesheet" href="./styles.css">
  <style>
    body {
      max-width: 1200px;
      margin: 0 auto;
      padding: 40px 20px;
    }

    h1 {
      text-align: center;
      color: #111827;
      margin-bottom: 10px;
    }

    .subtitle {
      text-align: center;
      color: #6b7280;
      margin-bottom: 40px;
    }

    .demo-selector {
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
      justify-content: center;
      margin-bottom: 40px;
    }

    .demo-button {
      padding: 10px 20px;
      border: 2px solid #e5e7eb;
      background: white;
      border-radius: 6px;
      cursor: pointer;
      transition: all 0.2s;
      font-size: 14px;
      font-weight: 600;
    }

    .demo-button:hover {
      border-color: #3b82f6;
      color: #3b82f6;
    }

    .demo-button.active {
      background: #3b82f6;
      color: white;
      border-color: #3b82f6;
    }

    .demo-container {
      margin-top: 20px;
    }

    .info-box {
      background: #f0f9ff;
      border: 1px solid #bfdbfe;
      border-radius: 6px;
      padding: 15px;
      margin-bottom: 20px;
    }

    .info-box h3 {
      margin: 0 0 10px 0;
      color: #1e40af;
    }

    .info-box p {
      margin: 0;
      color: #1e3a8a;
      font-size: 14px;
    }
  </style>

  <script type="importmap">
    {
      "imports": {
        "zod": "https://cdn.jsdelivr.net/npm/zod@3.22.4/+esm"
      }
    }
  </script>

  <script type="module">
    import {
      registrationFormExample,
      contactFormExample,
      addressFormExample,
      productFormExample,
      userProfileExample,
      customValidationExample,
      manualStructureExample,
    } from "./examples.ts";

    const demos = {
      registration: {
        title: "Formulario de Registro",
        description: "Schema Zod completo con validaciones complejas y confirmaci贸n de contrase帽a",
        fn: registrationFormExample,
      },
      contact: {
        title: "Formulario de Contacto",
        description: "Estructura JSON manual con secciones personalizadas",
        fn: contactFormExample,
      },
      address: {
        title: "Formulario de Direcci贸n",
        description: "Objetos anidados y validaciones de c贸digo postal",
        fn: addressFormExample,
      },
      product: {
        title: "Formulario de Producto",
        description: "Campos opcionales, select con enum y checkbox",
        fn: productFormExample,
      },
      profile: {
        title: "Perfil de Usuario",
        description: "Validaciones regex, objetos anidados m煤ltiples",
        fn: userProfileExample,
      },
      custom: {
        title: "Validaciones Personalizadas",
        description: "Expresiones regulares complejas y reglas de contrase帽a",
        fn: customValidationExample,
      },
      manual: {
        title: "Estructura Manual Completa",
        description: "Ejemplo con secciones, boxes y todos los tipos de campo",
        fn: manualStructureExample,
      },
    };

    let currentDemo = null;

    function loadDemo(demoKey) {
      const demo = demos[demoKey];
      if (!demo) return;

      // Actualizar botones activos
      document.querySelectorAll(".demo-button").forEach((btn) => {
        btn.classList.toggle("active", btn.dataset.demo === demoKey);
      });

      // Limpiar contenedor
      const container = document.getElementById("demo-container");
      container.innerHTML = "";

      // Mostrar info
      const infoBox = document.createElement("div");
      infoBox.className = "info-box";
      infoBox.innerHTML = `
        <h3>${demo.title}</h3>
        <p>${demo.description}</p>
      `;
      container.appendChild(infoBox);

      // Renderizar formulario
      const form = demo.fn();
      container.appendChild(form.render());

      currentDemo = form;
    }

    // Inicializar
    window.addEventListener("DOMContentLoaded", () => {
      // Crear botones
      const selector = document.getElementById("demo-selector");
      Object.entries(demos).forEach(([key, demo]) => {
        const button = document.createElement("button");
        button.className = "demo-button";
        button.dataset.demo = key;
        button.textContent = demo.title;
        button.addEventListener("click", () => loadDemo(key));
        selector.appendChild(button);
      });

      // Cargar primer demo
      loadDemo("registration");
    });

    // Exponer para debugging
    window.getCurrentForm = () => currentDemo;
  </script>
</head>

<body>
  <h1> ClarifyJS - Demos Interactivas</h1>
  <p class="subtitle">Generador de formularios con validaci贸n Zod autom谩tica</p>

  <div id="demo-selector" class="demo-selector"></div>

  <div id="demo-container" class="demo-container"></div>
</body>

</html>